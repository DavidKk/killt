// oTemplate.lite.min.js#1.0.0-beta - 2015-09-17 17:10:31
~function(a){"use strict";function b(a){return Object.prototype.toString.call(a)}function c(a){return"undefined"!=typeof a}function d(a){return"undefined"==typeof a}function e(a){return"[object Object]"===b(a)}function f(a){return"[object Function]"===b(a)}function g(a){return"[object Number]"===b(a)}function h(a){return"[object Boolean]"===b(a)}function i(a){return"[object String]"===b(a)}function j(a){return"[object Array]"===b(a)}function k(a){var b,c;return!1===e(a)||d(a)?!1:(b=a.constructor,"function"!=typeof b?!1:(c=b.prototype,!1===e(c)?!1:!1===c.hasOwnProperty("isPrototypeOf")?!1:!0))}function l(a){return a.replace(/^\s+|\s+$/,"")}function m(a){return i(a)?a:g(a)?a+="":f(a)?m(a.call(a)):""}function n(a){return a.replace(/("|'|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")}function o(a){return m(a).replace(/&(?![\w#]+;)|[<>"']/g,o.escapeFn)}function p(a,b){if(f(b)){var c;if(j(a))if(Array.prototype.some)a.some(b);else{var d=a.length;for(c=0;d>c&&!0!==b(a[c],c);c++);}else if(e(a))for(c in a)if(!0===b(a[c],c))break}}function q(a){for(var b={},c=[],d=a.length;d--;)b.hasOwnProperty(a[d])||(c.push(a[d]),b[a[d]]=1);return c}function r(a,b){var c=j(a),d=c?[]:{};return p(a,function(a,e){b(a,e)&&(d[c?d.length:e]=a)}),d}function s(a,b){if(arguments.length>2){a=s(a,b);var c=Array.prototype.slice.call(arguments,2,arguments.length);return s(a,c[0])}if(j(a)&&j(b))Array.prototype.splice.apply(a,[a.length,0].concat(b));else if(k(a)&&k(b))for(var d in b)a[d]=b[d];return a}function t(a){if(c(console)&&f(console.error)){var b="";e(a)?p(a,function(a,c){b+="<"+c.substr(0,1).toUpperCase()+c.substr(1)+">\n"+a+"\n\n"}):i(a)&&(b=a),console.error(b)}}function u(){return""}function v(a,b,c){"function"==typeof define?define(function(){return b(c)}):"object"==typeof exports?module.exports=b(c):c[a]=b(c)}var w=function(a){a=a||{};var b=this;this._caches={},this._blocks={},this._blockHelpers={},this._helpers={},this._sourceHelpers={},this._defaults={},~s(this._defaults,w._defaults,a),~s(this._helpers,{$escape:function(){return o.apply(o,arguments)},$noescape:function(a){return m(a||"")},$toString:function(a,c){var d=b._defaults,a=m(a);return!0===(h(c)?c:d.escape)?b.helper("$escape")(a):a},include:function(a,c,d){var e=document.getElementById(a);return e?(t({message:"[Include Error]: Template ID `"+a+"` is not found."}),""):b.render(e.innerHTML,c,d)}}),~j(w._extends)&&p(w._extends,function(a){b["extends"](a)})};w.ENV=w.prototype.ENV={PRODUCE:1,DEVELOP:2,UNIT:3},w._defaults={env:w.ENV.PRODUCE,noSyntax:!1,strict:!0,compress:!0,escape:!0,openTag:"{{",closeTag:"}}",depends:[]},w._extends=[],w.extend=function(a){return f(a)&&w._extends.push(a),this},w.prototype.$$throw=function(a){w.ENV.UNIT!==this._defaults.env&&t(a)},w.prototype.$$cache=function(a,b){var c=this._caches;return arguments.length>1?(c[a]=b,this):c[a]},w.prototype.$$table=function(){function a(a,b,c){c=c||" ",a=a.toString(),b=b.toString().replace(/\d/g,c);var d=b.split("");return d.splice(-a.length,a.length,a),d.join("")}return function(b){var c=0,d=b.match(/([^\n]*)?\n|([^\n]+)$/g);if(!d)return c+" | "+b;var e=d.length;return b.replace(/([^\n]*)?\n|([^\n]+)$/g,function(b){return a(++c,e)+" | "+b})}}(),w.prototype.$compileShell=function(){function b(a){var b=["$scope","$helpers","$blocks","$data","$buffer","$runtime","$append","abstract","arguments","break","boolean","byte","case","catch","char","class","continue","console","const","debugger","default","delete","do","double","else","enum","export","extends","false","final","finally","float","for","function","goto","if","implements","import","in","instanceof","int","interface","let","long","native","new","null","package","private","protected","public","return","short","static","super","switch","synchronized","this","throw","throws","transient","true","try","typeof","undefined","var","void","volatile","while","with","yield"],c=a.replace(/\\?\"([^\"])*\\?\"|\\?\'([^\'])*\\?\'|\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|\s*\.\s*[$\w\.]+/g,"").replace(/[^\w$]+/g,",").replace(/^\d[^,]*|,\d[^,]*|^,+|,+$/g,"").split(/^$|,+/);return r(c,function(a){return-1===b.indexOf(a)})}return function(c,d){d=d||{};var e=c,g=this._defaults,j=h(d.escape)?d.escape:g.escape,k=h(d.compress)?d.compress:g.compress,m=this._helpers,o=this._blockHelpers,r=this._sourceHelpers,s=[],t=[],u=[],v=1,w="",x=function(a){for(var b,c,d;c=/<%source\\s*([\w\W]+?)?\\s*%>(.+?)<%\/source%>/gim.exec(a);)b=c[1],d=c[2],d=b&&r.hasOwnProperty(b)?r[b](d):d,d='<%=unescape("'+escape(d)+'");%>',a=a.replace(c[0],d);return a},y=function(a){return a=a.replace(/<!--[\w\W]*?-->/g,"").replace(/^ +$/,""),""===a?"":(v+=a.split(/\n/).length-1,a=a.replace(/(["'\\])/g,"\\$1"),a=!0===k?a.replace(/[\r\t\n]/g,"").replace(/ +/g," "):a.replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/\n/g,"\\n"),'$buffer+="'+a+'";')},z=function(c){return c=l(c||""),p(b(c),function(b){if(b){var c=a[b];if(!f(c)||!c.toString().match(/^\s*?function \w+\(\) \{\s*?\[native code\]\s*?\}\s*?$/i))return f(m[b])?void s.push(b):f(o[b])?void t.push(b):void u.push(b)}}),/^=\s*[\w\W]+?\s*$/.exec(c)?c="$buffer+=$helpers.$toString("+c.replace(/[=\s;]/g,"")+", "+j+");":/^#\s*[\w\W]+?\s*$/.exec(c)?c="$buffer+=$helpers.$noescape("+c.replace(/[#\s;]/g,"")+");":/^!#\s*[\w\W]+?\s*$/.exec(c)?c="$buffer+=$helpers.$escape("+c.replace(/[!#\s;]/g,"")+");":/^\s*([\w\W]+)\s*\([^\)]*?\)\s*$/.exec(c)&&(c="$buffer+=$helpers.$toString("+c+", "+j+");"),v+=c.split(/\n|%0A/).length-1,c+=(/\)$/.exec(c)?";":"")+"$runtime="+v+";"};return c=i(c)?x(c):"",p(c.split("<%"),function(a){a=a.split("%>");var b=a[0],c=a[1];1===a.length?w+=y(b):(w+=z(b),w+=y(c))}),p(q(u),function(a){w="var "+a+"=$data."+a+";"+w}),p(q(s),function(a){w="var "+a+"=$helpers."+a+";"+w}),p(q(t),function(a){w="var "+a+"=$blocks."+a+";"+w}),w='try {"use strict";var $scope=this,$helpers=$scope.$helpers,$blocks=$scope.$blocks,$buffer="",$runtime=0;'+w+'return $buffer;}catch(err) {throw {Message: err.message,Line: $runtime,Shell: "'+n(this.$$table(e))+'"};}function $append(buffer) {$buffer += buffer;}'}}(),w.prototype.$compile=function(){return function(a,b){function c(b){var c;try{c=new Function(h,j)}catch(f){t({message:"[Compile Render]: "+f.message,line:"Javascript syntax occur error, it can not find out the error line.",syntax:e,template:a,shell:j}),c=u}return function(a){try{return c.apply(b,[a].concat(i))}catch(e){e=s({},e,{source:d.$$table(b.$source)}),t({message:"[Exec Render]: "+e.message,line:e.line,template:e.source,shell:e.shell})}}}var d=this,e=a,f=s({},this._defaults,b),g=f.depends,h=["$data"].concat(g).join(","),i=[];~p(g,function(a){"$"===a.charAt(0)?(a=a.replace("$",""),i.push(f[a])):i.push(void 0)}),!0!==f.noSyntax&&(a=this.$compileSyntax(a,!!f.strict));var j=this.$compileShell(a,f);return c({$source:a||"",$helpers:this._helpers||{},$blocks:this._blockHelpers||{}})}}(),w.prototype.OTemplate=function(a){return new w(a)},w.prototype["extends"]=function(a){return a.call(this,this),this},w.prototype.config=function(a,b){if(1<arguments.length&&i(a))return"openTag"===a&&"<%"===a||"closeTag"===a&&"%>"===a?this:(this._defaults[a]=b,this);var c=this;return k(a)?(p(options,function(a,b){c.config(a,b)}),this):i(a)?this._defaults[a]:void 0},w.prototype.helper=function(a,b){if(1<arguments.length)i(a)&&f(b)&&(this._helpers[a]=b);else{if(i(a))return this._helpers[a];if(k(a)){var c;for(c in a)this.helper(c,a[c])}}return this},w.prototype.unhelper=function(a){var b=this._helpers;return b.hasOwnProperty(a)&&delete b[a],this},w.prototype.compile=function(a,b){a=a.toString();var c=s({},this._defaults,b),d=c.filename,e=!0===c.overwrite||this.$$cache(d);return f(e)?e:(e=this.$compile(a,c),i(d)&&this.$$cache(d,e),e)},w.prototype.render=function(a,b,c){return this.compile(a,c)(b||{})},w.extend(function(){var a=this;~s(this._helpers,{include:function(b,c,d){return a.renderById(b,c,d)}})}),w.prototype.compileById=function(a,b){a=a.toString();var c=s({},this._defaults,b,{filename:a}),d=!0===c.overwrite||this.$$cache(a);if(f(d))return d;var e=document.getElementById(a);return e?this.compile(e.innerHTML,c):(t({message:"[Compile Template]: Template ID `"+a+"` is not found."}),u)},w.prototype.renderById=function(a,b,c){var d=this.compileById(a,c);return d(b||{})},w.prototype.compileByAjax=function(a,b,c){if(f(b)){var d=this,e=s({},this._defaults,c),g=!0===e.overwrite||this.$$cache(a);f(g)?b(g):this.readFile(a,function(c){c=d.$compileSyntax(c,!!e.strict);for(var f,h=c,i=[];f=/<%!?#?\s*include\s*\(\s*(\'([^\']+)?\'|\"([^\"]+)?\")(\s*,\s*([^\)]+)?)\)%>/.exec(c);)i.push(f[3]),c=c.replace(f[0],"");var j=i.length,k=function(){0>=--j&&l()},l=function(){g=d.$compile(h),d.$$cache(a,g),b(g),j=void 0};j>0?p(q(i),function(a){d.$$cache(a)?k():d.compileByAjax(a,k,s(e,{overwrite:!1}))}):l()})}},w.prototype.renderByAjax=function(a,b,c,d){return f(b)?this.renderByAjax(a,{},b,c):void(f(c)&&this.compileByAjax(a,function(a){c(a(b||{}))},d))},w.prototype.readFile=function(a,b,c){if(f(b)){var d=new XMLHttpRequest;d.onreadystatechange=function(){var a=this.status;this.DONE===this.readyState&&a>=200&&400>a&&b(this.responseText)},d.onerror=function(){var b={message:"[Compile Template]: Request file `"+a+"` some error occured.",filename:a,response:"[Reponse State]: "+this.status};t(b),f(c)&&c(b),c=void 0},d.ontimeout=function(){var b={message:"[Request Template]: Request template file `"+a+"` timeout.",filename:a};t(b),f(c)&&c(b),c=void 0},d.onabort=function(){var b={message:"[Request Template]: Bowswer absort the request.",filename:a};t(b),f(c)&&c(b),c=void 0},d.open("GET",a,!0),d.send(null)}},o.SOURCES={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","/":"&#x2f;"},o.escapeFn=function(a){return o.SOURCES[a]},v("oTemplate",function(){return new w},a)}(this);
//# sourceMappingURL=oTemplate.lite.min.js.map