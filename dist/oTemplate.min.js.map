{"version":3,"file":"oTemplate.min.js","sources":["oTemplate.js"],"names":["root","inline","str","pos","substr","match","length","type","a","Object","prototype","toString","call","isString","isBoolean","isNumber","isObject","isFunction","isDefined","isUndefined","isArray","isPlainObject","o","ctor","prot","constructor","hasOwnProperty","namespace","query","space","token","undefined","re","ns","split","i","l","value","escape","replace","forEach","callback","Array","some","unique","n","r","push","extend","b","arguments","next","slice","splice","apply","concat","__throw","error","console","message","name","UMD","factory","define","exports","module","OTemplate","options","this","_caches","_blocks","_helpers","_defaults","_extends","env","noSyntax","strict","compress","openTag","closeTag","cache","depends","$$throw","$$cache","render","caches","$$table","line","$all","$compileShell","source","strip","htmlToJs","shellToJs","analyzeVariables","exec","getVariables","func","helpers","methods","variables","KEYWORDS","RegExp","join","buffer","code","p1","p2","$compile","buildRender","shell","args","scope","Function","err","template","$source","origin","conf","$compileSyntax","$helpers","$render","data","config","var_query","self","each","block","$registerSyntax","unblock","blocks","helper","unhelper","compile","file","readFile","include","path","escapeHTML","SOURCES","<",">","&","\"","'","/","escapeFn","content","$$compile","all","$1","$$compileRegexp","patternTpl","attributes","pattern","var_syntax","repeat","syntax","compiler","$unregisterSyntax","$clearSyntax","regexp","$analyzeSyntax","tpl","handle","tagReg","stripTpl","search","syntaxReg","valid","lastCompiled"],"mappings":"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"}